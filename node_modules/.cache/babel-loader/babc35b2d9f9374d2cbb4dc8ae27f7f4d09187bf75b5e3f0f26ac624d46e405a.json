{"ast":null,"code":"export function calculateCurrent(voltage, diodeType, mode) {\n  const Vf = {\n    silicon: 0.7,\n    germanium: 0.3,\n    led: 2.0,\n    zener: 0.7\n  };\n  const Kf = 0.15; // forward slope\n  const I_leak = {\n    silicon: -0.00005,\n    germanium: -0.0002,\n    led: -0.000005,\n    zener: -0.00005\n  };\n  const Vz = -5.6; // Zener breakdown voltage\n  const Kz = 0.12; // breakdown slope (controls how steep downward curve is)\n\n  // Reverse bias behavior\n  if (mode === \"reverse\") {\n    if (diodeType === \"zener\") {\n      if (voltage > Vz) {\n        // BEFORE breakdown → small leakage\n        return I_leak.zener;\n      } else {\n        // AFTER breakdown → negative downward curve\n        return Kz * (voltage - Vz);\n        /*\n          Example: V = -6\n          I = 0.12 * (-6 - (-5.6)) = 0.12 * (-0.4) = -0.048 A   ✅ Goes downward\n        */\n      }\n    }\n    // non-zener PN junction reverse → constant small negative leakage\n    return I_leak[diodeType];\n  }\n\n  // Forward bias\n  const Vth = Vf[diodeType];\n  if (voltage < Vth) return 0;\n  return Kf * (voltage - Vth);\n}","map":{"version":3,"names":["calculateCurrent","voltage","diodeType","mode","Vf","silicon","germanium","led","zener","Kf","I_leak","Vz","Kz","Vth"],"sources":["/Users/badalsahoo/eceproject/eceproject/src/utils/calculateCurrent.js"],"sourcesContent":["export function calculateCurrent(voltage, diodeType, mode) {\n  const Vf = { silicon: 0.7, germanium: 0.3, led: 2.0, zener: 0.7 };\n  const Kf = 0.15; // forward slope\n  const I_leak = { silicon: -0.00005, germanium: -0.0002, led: -0.000005, zener: -0.00005 };\n\n  const Vz = -5.6;  // Zener breakdown voltage\n  const Kz = 0.12;  // breakdown slope (controls how steep downward curve is)\n\n  // Reverse bias behavior\n  if (mode === \"reverse\") {\n    if (diodeType === \"zener\") {\n      if (voltage > Vz) {\n        // BEFORE breakdown → small leakage\n        return I_leak.zener;\n      } else {\n        // AFTER breakdown → negative downward curve\n        return Kz * (voltage - Vz); \n        /*\n          Example: V = -6\n          I = 0.12 * (-6 - (-5.6)) = 0.12 * (-0.4) = -0.048 A   ✅ Goes downward\n        */\n      }\n    }\n    // non-zener PN junction reverse → constant small negative leakage\n    return I_leak[diodeType];\n  }\n\n  // Forward bias\n  const Vth = Vf[diodeType];\n  if (voltage < Vth) return 0;\n  return Kf * (voltage - Vth);\n}\n"],"mappings":"AAAA,OAAO,SAASA,gBAAgBA,CAACC,OAAO,EAAEC,SAAS,EAAEC,IAAI,EAAE;EACzD,MAAMC,EAAE,GAAG;IAAEC,OAAO,EAAE,GAAG;IAAEC,SAAS,EAAE,GAAG;IAAEC,GAAG,EAAE,GAAG;IAAEC,KAAK,EAAE;EAAI,CAAC;EACjE,MAAMC,EAAE,GAAG,IAAI,CAAC,CAAC;EACjB,MAAMC,MAAM,GAAG;IAAEL,OAAO,EAAE,CAAC,OAAO;IAAEC,SAAS,EAAE,CAAC,MAAM;IAAEC,GAAG,EAAE,CAAC,QAAQ;IAAEC,KAAK,EAAE,CAAC;EAAQ,CAAC;EAEzF,MAAMG,EAAE,GAAG,CAAC,GAAG,CAAC,CAAE;EAClB,MAAMC,EAAE,GAAG,IAAI,CAAC,CAAE;;EAElB;EACA,IAAIT,IAAI,KAAK,SAAS,EAAE;IACtB,IAAID,SAAS,KAAK,OAAO,EAAE;MACzB,IAAID,OAAO,GAAGU,EAAE,EAAE;QAChB;QACA,OAAOD,MAAM,CAACF,KAAK;MACrB,CAAC,MAAM;QACL;QACA,OAAOI,EAAE,IAAIX,OAAO,GAAGU,EAAE,CAAC;QAC1B;AACR;AACA;AACA;MACM;IACF;IACA;IACA,OAAOD,MAAM,CAACR,SAAS,CAAC;EAC1B;;EAEA;EACA,MAAMW,GAAG,GAAGT,EAAE,CAACF,SAAS,CAAC;EACzB,IAAID,OAAO,GAAGY,GAAG,EAAE,OAAO,CAAC;EAC3B,OAAOJ,EAAE,IAAIR,OAAO,GAAGY,GAAG,CAAC;AAC7B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}