{"ast":null,"code":"// Ideal-but-practical model with reverse breakdown for all diodes\nexport function calculateCurrent(voltage, diodeType, mode) {\n  var _P$diodeType;\n  // Per-diode parameters\n  const P = {\n    silicon: {\n      Vf: 0.7,\n      I_leak: -5e-5,\n      Vbr: -50,\n      Kbr: 0.01\n    },\n    // avalanche ~50V\n    germanium: {\n      Vf: 0.3,\n      I_leak: -2e-4,\n      Vbr: -30,\n      Kbr: 0.01\n    },\n    // lower than Si\n    led: {\n      Vf: 2.0,\n      I_leak: -5e-6,\n      Vbr: -5,\n      Kbr: 0.02\n    },\n    // LEDs break ~5V (damaging)\n    zener: {\n      Vf: 0.7,\n      I_leak: -5e-5,\n      Vbr: -5.6,\n      Kbr: 0.12\n    } // designed breakdown\n  };\n  const d = (_P$diodeType = P[diodeType]) !== null && _P$diodeType !== void 0 ? _P$diodeType : P.silicon;\n  if (mode === \"reverse\") {\n    if (voltage > d.Vbr) return d.I_leak;\n    // After breakdown: current becomes more negative as V goes more negative\n    // Example: V=-60, Vbr=-50 → (V - Vbr) = -10 → I = Kbr * (-10) = negative (downwards)\n    return d.Kbr * (voltage - d.Vbr);\n  }\n\n  // Forward region (1st quadrant) — ideal but practical sharp knee\n  const Kf = 0.15; // A/V\n  if (voltage < d.Vf) return 0;\n  return Kf * (voltage - d.Vf);\n}","map":{"version":3,"names":["calculateCurrent","voltage","diodeType","mode","_P$diodeType","P","silicon","Vf","I_leak","Vbr","Kbr","germanium","led","zener","d","Kf"],"sources":["/Users/badalsahoo/eceproject/eceproject/src/utils/calculateCurrent.js"],"sourcesContent":["// Ideal-but-practical model with reverse breakdown for all diodes\nexport function calculateCurrent(voltage, diodeType, mode) {\n  // Per-diode parameters\n  const P = {\n    silicon:   { Vf: 0.7,  I_leak: -5e-5,  Vbr: -50,  Kbr: 0.01 }, // avalanche ~50V\n    germanium: { Vf: 0.3,  I_leak: -2e-4,  Vbr: -30,  Kbr: 0.01 }, // lower than Si\n    led:       { Vf: 2.0,  I_leak: -5e-6,  Vbr: -5,   Kbr: 0.02 }, // LEDs break ~5V (damaging)\n    zener:     { Vf: 0.7,  I_leak: -5e-5,  Vbr: -5.6, Kbr: 0.12 }, // designed breakdown\n  };\n\n  const d = P[diodeType] ?? P.silicon;\n\n  if (mode === \"reverse\") {\n    if (voltage > d.Vbr) return d.I_leak;\n    // After breakdown: current becomes more negative as V goes more negative\n    // Example: V=-60, Vbr=-50 → (V - Vbr) = -10 → I = Kbr * (-10) = negative (downwards)\n    return d.Kbr * (voltage - d.Vbr);\n  }\n\n  // Forward region (1st quadrant) — ideal but practical sharp knee\n  const Kf = 0.15; // A/V\n  if (voltage < d.Vf) return 0;\n  return Kf * (voltage - d.Vf);\n}\n"],"mappings":"AAAA;AACA,OAAO,SAASA,gBAAgBA,CAACC,OAAO,EAAEC,SAAS,EAAEC,IAAI,EAAE;EAAA,IAAAC,YAAA;EACzD;EACA,MAAMC,CAAC,GAAG;IACRC,OAAO,EAAI;MAAEC,EAAE,EAAE,GAAG;MAAGC,MAAM,EAAE,CAAC,IAAI;MAAGC,GAAG,EAAE,CAAC,EAAE;MAAGC,GAAG,EAAE;IAAK,CAAC;IAAE;IAC/DC,SAAS,EAAE;MAAEJ,EAAE,EAAE,GAAG;MAAGC,MAAM,EAAE,CAAC,IAAI;MAAGC,GAAG,EAAE,CAAC,EAAE;MAAGC,GAAG,EAAE;IAAK,CAAC;IAAE;IAC/DE,GAAG,EAAQ;MAAEL,EAAE,EAAE,GAAG;MAAGC,MAAM,EAAE,CAAC,IAAI;MAAGC,GAAG,EAAE,CAAC,CAAC;MAAIC,GAAG,EAAE;IAAK,CAAC;IAAE;IAC/DG,KAAK,EAAM;MAAEN,EAAE,EAAE,GAAG;MAAGC,MAAM,EAAE,CAAC,IAAI;MAAGC,GAAG,EAAE,CAAC,GAAG;MAAEC,GAAG,EAAE;IAAK,CAAC,CAAE;EACjE,CAAC;EAED,MAAMI,CAAC,IAAAV,YAAA,GAAGC,CAAC,CAACH,SAAS,CAAC,cAAAE,YAAA,cAAAA,YAAA,GAAIC,CAAC,CAACC,OAAO;EAEnC,IAAIH,IAAI,KAAK,SAAS,EAAE;IACtB,IAAIF,OAAO,GAAGa,CAAC,CAACL,GAAG,EAAE,OAAOK,CAAC,CAACN,MAAM;IACpC;IACA;IACA,OAAOM,CAAC,CAACJ,GAAG,IAAIT,OAAO,GAAGa,CAAC,CAACL,GAAG,CAAC;EAClC;;EAEA;EACA,MAAMM,EAAE,GAAG,IAAI,CAAC,CAAC;EACjB,IAAId,OAAO,GAAGa,CAAC,CAACP,EAAE,EAAE,OAAO,CAAC;EAC5B,OAAOQ,EAAE,IAAId,OAAO,GAAGa,CAAC,CAACP,EAAE,CAAC;AAC9B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}